import{S as z,i as J,s as V,U as M,H as y,I as Q,v as W,w as Y,x as Z,X as $,a1 as ee,J as te,f as D,t as N,y as ne,_ as O,$ as se,o as re,a0 as oe,K as ae,L as ue,M as ie,N as de}from"./index-0280c2c9.js";import{_ as le,a as x,M as ce,c as L,f as fe,d as R,p as me}from"./useActions-d72238ee.js";import{M as Ie,a as _e}from"./MenuSurface-6300a005.js";import{c as F,G as Ee}from"./index-9bfd9c52.js";import{c as pe}from"./Ripple-3b49acfc.js";/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var E={MENU_SELECTED_LIST_ITEM:"mdc-menu-item--selected",MENU_SELECTION_GROUP:"mdc-menu__selection-group",ROOT:"mdc-menu"},I={ARIA_CHECKED_ATTR:"aria-checked",ARIA_DISABLED_ATTR:"aria-disabled",CHECKBOX_SELECTOR:'input[type="checkbox"]',LIST_SELECTOR:".mdc-list,.mdc-deprecated-list",SELECTED_EVENT:"MDCMenu:selected",SKIP_RESTORE_FOCUS:"data-menu-item-skip-restore-focus"},Se={FOCUS_ROOT_INDEX:-1},_;(function(r){r[r.NONE=0]="NONE",r[r.LIST_ROOT=1]="LIST_ROOT",r[r.FIRST_ITEM=2]="FIRST_ITEM",r[r.LAST_ITEM=3]="LAST_ITEM"})(_||(_={}));/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var Ae=function(r){le(t,r);function t(n){var s=r.call(this,x(x({},t.defaultAdapter),n))||this;return s.closeAnimationEndTimerId=0,s.defaultFocusState=_.LIST_ROOT,s.selectedIndex=-1,s}return Object.defineProperty(t,"cssClasses",{get:function(){return E},enumerable:!1,configurable:!0}),Object.defineProperty(t,"strings",{get:function(){return I},enumerable:!1,configurable:!0}),Object.defineProperty(t,"numbers",{get:function(){return Se},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClassToElementAtIndex:function(){},removeClassFromElementAtIndex:function(){},addAttributeToElementAtIndex:function(){},removeAttributeFromElementAtIndex:function(){},getAttributeFromElementAtIndex:function(){return null},elementContainsClass:function(){return!1},closeSurface:function(){},getElementIndex:function(){return-1},notifySelected:function(){},getMenuItemCount:function(){return 0},focusItemAtIndex:function(){},focusListRoot:function(){},getSelectedSiblingOfItemAtIndex:function(){return-1},isSelectableItemAtIndex:function(){return!1}}},enumerable:!1,configurable:!0}),t.prototype.destroy=function(){this.closeAnimationEndTimerId&&clearTimeout(this.closeAnimationEndTimerId),this.adapter.closeSurface()},t.prototype.handleKeydown=function(n){var s=n.key,o=n.keyCode,d=s==="Tab"||o===9;d&&this.adapter.closeSurface(!0)},t.prototype.handleItemAction=function(n){var s=this,o=this.adapter.getElementIndex(n);if(!(o<0)){this.adapter.notifySelected({index:o});var d=this.adapter.getAttributeFromElementAtIndex(o,I.SKIP_RESTORE_FOCUS)==="true";this.adapter.closeSurface(d),this.closeAnimationEndTimerId=setTimeout(function(){var f=s.adapter.getElementIndex(n);f>=0&&s.adapter.isSelectableItemAtIndex(f)&&s.setSelectedIndex(f)},Ie.numbers.TRANSITION_CLOSE_DURATION)}},t.prototype.handleMenuSurfaceOpened=function(){switch(this.defaultFocusState){case _.FIRST_ITEM:this.adapter.focusItemAtIndex(0);break;case _.LAST_ITEM:this.adapter.focusItemAtIndex(this.adapter.getMenuItemCount()-1);break;case _.NONE:break;default:this.adapter.focusListRoot();break}},t.prototype.setDefaultFocusState=function(n){this.defaultFocusState=n},t.prototype.getSelectedIndex=function(){return this.selectedIndex},t.prototype.setSelectedIndex=function(n){if(this.validatedIndex(n),!this.adapter.isSelectableItemAtIndex(n))throw new Error("MDCMenuFoundation: No selection group at specified index.");var s=this.adapter.getSelectedSiblingOfItemAtIndex(n);s>=0&&(this.adapter.removeAttributeFromElementAtIndex(s,I.ARIA_CHECKED_ATTR),this.adapter.removeClassFromElementAtIndex(s,E.MENU_SELECTED_LIST_ITEM)),this.adapter.addClassToElementAtIndex(n,E.MENU_SELECTED_LIST_ITEM),this.adapter.addAttributeToElementAtIndex(n,I.ARIA_CHECKED_ATTR,"true"),this.selectedIndex=n},t.prototype.setEnabled=function(n,s){this.validatedIndex(n),s?(this.adapter.removeClassFromElementAtIndex(n,F.LIST_ITEM_DISABLED_CLASS),this.adapter.addAttributeToElementAtIndex(n,I.ARIA_DISABLED_ATTR,"false")):(this.adapter.addClassToElementAtIndex(n,F.LIST_ITEM_DISABLED_CLASS),this.adapter.addAttributeToElementAtIndex(n,I.ARIA_DISABLED_ATTR,"true"))},t.prototype.validatedIndex=function(n){var s=this.adapter.getMenuItemCount(),o=n>=0&&n<s;if(!o)throw new Error("MDCMenuFoundation: No list item at specified index.")},t}(ce);function Te(r){let t;const n=r[16].default,s=ae(n,r,r[21],null);return{c(){s&&s.c()},l(o){s&&s.l(o)},m(o,d){s&&s.m(o,d),t=!0},p(o,d){s&&s.p&&(!t||d&2097152)&&ue(s,n,o,o[21],t?de(n,o[21],d,null):ie(o[21]),null)},i(o){t||(D(s,o),t=!0)},o(o){N(s,o),t=!1},d(o){s&&s.d(o)}}}function ge(r){let t,n,s;const o=[{use:r[5]},{class:L({[r[1]]:!0,"mdc-menu":!0})},r[9]];function d(a){r[18](a)}let f={$$slots:{default:[Te]},$$scope:{ctx:r}};for(let a=0;a<o.length;a+=1)f=M(f,o[a]);return r[0]!==void 0&&(f.open=r[0]),t=new _e({props:f}),r[17](t),y.push(()=>Q(t,"open",d)),t.$on("SMUIMenuSurface:mount",r[7]),t.$on("SMUIList:mount",r[8]),t.$on("SMUIMenuSurface:opened",r[19]),t.$on("keydown",r[6]),t.$on("SMUIList:action",r[20]),{c(){W(t.$$.fragment)},l(a){Y(t.$$.fragment,a)},m(a,c){Z(t,a,c),s=!0},p(a,[c]){const p=c&546?$(o,[c&32&&{use:a[5]},c&2&&{class:L({[a[1]]:!0,"mdc-menu":!0})},c&512&&ee(a[9])]):{};c&2097152&&(p.$$scope={dirty:c,ctx:a}),!n&&c&1&&(n=!0,p.open=a[0],te(()=>n=!1)),t.$set(p)},i(a){s||(D(t.$$.fragment,a),s=!0)},o(a){N(t.$$.fragment,a),s=!1},d(a){r[17](null),ne(t,a)}}}function he(r,t,n){let s;const o=["use","class","open","isOpen","setOpen","setDefaultFocusState","getSelectedIndex","getElement"];let d=O(t,o),{$$slots:f={},$$scope:a}=t;const{closest:c}=me,p=fe(se());let{use:T=[]}=t,{class:C=""}=t,{open:m=!1}=t,A,l,g,u;re(()=>(n(3,l=new Ae({addClassToElementAtIndex:(e,i)=>{u.addClassForElementIndex(e,i)},removeClassFromElementAtIndex:(e,i)=>{u.removeClassForElementIndex(e,i)},addAttributeToElementAtIndex:(e,i,S)=>{u.setAttributeForElementIndex(e,i,S)},removeAttributeFromElementAtIndex:(e,i)=>{u.removeAttributeForElementIndex(e,i)},getAttributeFromElementAtIndex:(e,i)=>u.getAttributeFromElementIndex(e,i),elementContainsClass:(e,i)=>e.classList.contains(i),closeSurface:e=>g.closeProgrammatic(e),getElementIndex:e=>u.getOrderedList().map(i=>i.element).indexOf(e),notifySelected:e=>R(h(),"SMUIMenu:selected",{index:e.index,item:u.getOrderedList()[e.index].element},void 0,!0),getMenuItemCount:()=>u.items.length,focusItemAtIndex:e=>u.focusItemAtIndex(e),focusListRoot:()=>"focus"in u.element&&u.element.focus(),isSelectableItemAtIndex:e=>!!c(u.getOrderedList()[e].element,`.${E.MENU_SELECTION_GROUP}`),getSelectedSiblingOfItemAtIndex:e=>{const i=u.getOrderedList(),S=c(i[e].element,`.${E.MENU_SELECTION_GROUP}`),b=S==null?void 0:S.querySelector(`.${E.MENU_SELECTED_LIST_ITEM}`);return b?i.map(q=>q.element).indexOf(b):-1}})),R(h(),"SMUIMenu:mount",l),l.init(),()=>{l.destroy()}));function v(e){l&&l.handleKeydown(e)}function U(e){g||(g=e.detail)}function k(e){u||n(4,u=e.detail)}function P(){return m}function K(e){n(0,m=e)}function B(e){l.setDefaultFocusState(e)}function G(){return l.getSelectedIndex()}function h(){return A.getElement()}function w(e){y[e?"unshift":"push"](()=>{A=e,n(2,A)})}function j(e){m=e,n(0,m)}const H=()=>l&&l.handleMenuSurfaceOpened(),X=e=>l&&l.handleItemAction(u.getOrderedList()[e.detail.index].element);return r.$$set=e=>{t=M(M({},t),oe(e)),n(9,d=O(t,o)),"use"in e&&n(10,T=e.use),"class"in e&&n(1,C=e.class),"open"in e&&n(0,m=e.open),"$$scope"in e&&n(21,a=e.$$scope)},r.$$.update=()=>{r.$$.dirty&1024&&n(5,s=[p,...T])},[m,C,A,l,u,s,v,U,k,d,T,P,K,B,G,h,f,w,j,H,X,a]}class Le extends z{constructor(t){super(),J(this,t,he,ge,V,{use:10,class:1,open:0,isOpen:11,setOpen:12,setDefaultFocusState:13,getSelectedIndex:14,getElement:15})}get isOpen(){return this.$$.ctx[11]}get setOpen(){return this.$$.ctx[12]}get setDefaultFocusState(){return this.$$.ctx[13]}get getSelectedIndex(){return this.$$.ctx[14]}get getElement(){return this.$$.ctx[15]}}const Re=pe({class:"mdc-menu__selection-group-icon",component:Ee});export{Le as M,Re as S};
